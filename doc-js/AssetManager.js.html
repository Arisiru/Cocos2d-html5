<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CocosJS Source: plugin/asset/AssetManager.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cerulean.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">CocosJS</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#cc">cc</a>
						</li>
						
						<li>
							<a href="global.html#cc#action">cc.action</a>
						</li>
						
						<li>
							<a href="cc.Debug.html">cc.Debug</a>
						</li>
						
						<li>
							<a href="cc.game.html">cc.game</a>
						</li>
						
						<li>
							<a href="cc.input.html">cc.input</a>
						</li>
						
						<li>
							<a href="cc.locale.html">cc.locale</a>
						</li>
						
						<li>
							<a href="cc.math.html">cc.math</a>
						</li>
						
						<li>
							<a href="cc.math.path_.html">cc.math.path</a>
						</li>
						
						<li>
							<a href="cc.node.html">cc.node</a>
						</li>
						
						<li>
							<a href="cc.node.sprite.html">cc.node.sprite</a>
						</li>
						
						<li>
							<a href="cc.plugin.html">cc.plugin</a>
						</li>
						
						<li>
							<a href="cc.plugin.asset.html">cc.plugin.asset</a>
						</li>
						
						<li>
							<a href="cc.plugin.audio.html">cc.plugin.audio</a>
						</li>
						
						<li>
							<a href="cc.plugin.layout.html">cc.plugin.layout</a>
						</li>
						
						<li>
							<a href="cc.plugin.loader.html">cc.plugin.loader</a>
						</li>
						
						<li>
							<a href="cc.plugin.texture.html">cc.plugin.texture</a>
						</li>
						
						<li>
							<a href="cc.render.html">cc.render</a>
						</li>
						
						<li>
							<a href="cc.render.shader.html">cc.render.shader</a>
						</li>
						
						<li>
							<a href="cc.render.WebGLState.html">cc.render.WebGLState</a>
						</li>
						
						<li>
							<a href="cc.transition.html">cc.transition</a>
						</li>
						
						<li>
							<a href="cc.util.html">cc.util</a>
						</li>
						
						<li>
							<a href="cc.widget.html">cc.widget</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="cc.action.Action.html">cc.action.Action</a>
						</li>
						
						<li>
							<a href="cc.action.ActionChainContext.html">cc.action.ActionChainContext</a>
						</li>
						
						<li>
							<a href="cc.action.ActionChainContext_constructor.html">cc.action.ActionChainContext#constructor</a>
						</li>
						
						<li>
							<a href="cc.action.ActionInfo.html">cc.action.ActionInfo</a>
						</li>
						
						<li>
							<a href="cc.action.ActionManager.html">cc.action.ActionManager</a>
						</li>
						
						<li>
							<a href="cc.action.AlphaAction.html">cc.action.AlphaAction</a>
						</li>
						
						<li>
							<a href="cc.action.AnimateAction.html">cc.action.AnimateAction</a>
						</li>
						
						<li>
							<a href="cc.action.Interpolator.html">cc.action.Interpolator</a>
						</li>
						
						<li>
							<a href="cc.action.JumpAction.html">cc.action.JumpAction</a>
						</li>
						
						<li>
							<a href="cc.action.MoveAction.html">cc.action.MoveAction</a>
						</li>
						
						<li>
							<a href="cc.action.ParseInterpolator.html">cc.action.ParseInterpolator</a>
						</li>
						
						<li>
							<a href="cc.action.PathAction.html">cc.action.PathAction</a>
						</li>
						
						<li>
							<a href="cc.action.PropertyAction.html">cc.action.PropertyAction</a>
						</li>
						
						<li>
							<a href="cc.action.PropertyInfo.html">cc.action.PropertyInfo</a>
						</li>
						
						<li>
							<a href="cc.action.RotateAction.html">cc.action.RotateAction</a>
						</li>
						
						<li>
							<a href="cc.action.ScaleAction.html">cc.action.ScaleAction</a>
						</li>
						
						<li>
							<a href="cc.action.SchedulerQueue.html">cc.action.SchedulerQueue</a>
						</li>
						
						<li>
							<a href="cc.action.SchedulerQueueTask.html">cc.action.SchedulerQueueTask</a>
						</li>
						
						<li>
							<a href="cc.action.SequenceAction.html">cc.action.SequenceAction</a>
						</li>
						
						<li>
							<a href="cc.action.TintAction.html">cc.action.TintAction</a>
						</li>
						
						<li>
							<a href="cc.game.Game.html">cc.game.Game</a>
						</li>
						
						<li>
							<a href="cc.input.InputManager.html">cc.input.InputManager</a>
						</li>
						
						<li>
							<a href="cc.input.InputManagerEvent.html">cc.input.InputManagerEvent</a>
						</li>
						
						<li>
							<a href="cc.input.KeyActionInfo.html">cc.input.KeyActionInfo</a>
						</li>
						
						<li>
							<a href="cc.input.KeyboardCursor.html">cc.input.KeyboardCursor</a>
						</li>
						
						<li>
							<a href="cc.input.KeyboardInputManager.html">cc.input.KeyboardInputManager</a>
						</li>
						
						<li>
							<a href="cc.input.KeyInfo.html">cc.input.KeyInfo</a>
						</li>
						
						<li>
							<a href="cc.input.MouseInputManager.html">cc.input.MouseInputManager</a>
						</li>
						
						<li>
							<a href="cc.input.MouseInputManagerEvent.html">cc.input.MouseInputManagerEvent</a>
						</li>
						
						<li>
							<a href="cc.input.PriorityInputNode.html">cc.input.PriorityInputNode</a>
						</li>
						
						<li>
							<a href="cc.input.SceneGraphInputTreeNode.html">cc.input.SceneGraphInputTreeNode</a>
						</li>
						
						<li>
							<a href="cc.math.Color.html">cc.math.Color</a>
						</li>
						
						<li>
							<a href="cc.math.Dimension.html">cc.math.Dimension</a>
						</li>
						
						<li>
							<a href="cc.math.Matrix3.html">cc.math.Matrix3</a>
						</li>
						
						<li>
							<a href="cc.math.Path.html">cc.math.Path</a>
						</li>
						
						<li>
							<a href="cc.math.path.ContainerSegment.html">cc.math.path.ContainerSegment</a>
						</li>
						
						<li>
							<a href="cc.math.path.SegmentArc.html">cc.math.path.SegmentArc</a>
						</li>
						
						<li>
							<a href="cc.math.path.SegmentBezier.html">cc.math.path.SegmentBezier</a>
						</li>
						
						<li>
							<a href="cc.math.path.SegmentCardinalSpline.html">cc.math.path.SegmentCardinalSpline</a>
						</li>
						
						<li>
							<a href="cc.math.path_.html#SegmentLine">cc.math.path.SegmentLine</a>
						</li>
						
						<li>
							<a href="cc.math.path.SegmentQuadratic.html">cc.math.path.SegmentQuadratic</a>
						</li>
						
						<li>
							<a href="cc.math.path.SubPath.html">cc.math.path.SubPath</a>
						</li>
						
						<li>
							<a href="cc.math.Rectangle.html">cc.math.Rectangle</a>
						</li>
						
						<li>
							<a href="cc.math.Vector.html">cc.math.Vector</a>
						</li>
						
						<li>
							<a href="cc.node.Director.html">cc.node.Director</a>
						</li>
						
						<li>
							<a href="cc.node.FastSprite.html">cc.node.FastSprite</a>
						</li>
						
						<li>
							<a href="cc.node.Node.html">cc.node.Node</a>
						</li>
						
						<li>
							<a href="cc.node.Scene.html">cc.node.Scene</a>
						</li>
						
						<li>
							<a href="cc.node.Sprite_.html">cc.node.Sprite</a>
						</li>
						
						<li>
							<a href="cc.node.sprite.Animation.html">cc.node.sprite.Animation</a>
						</li>
						
						<li>
							<a href="cc.node.sprite.AnimationCache.html">cc.node.sprite.AnimationCache</a>
						</li>
						
						<li>
							<a href="cc.node.sprite.SpriteFrame.html">cc.node.sprite.SpriteFrame</a>
						</li>
						
						<li>
							<a href="cc.plugin.asset.AssetManager.html">cc.plugin.asset.AssetManager</a>
						</li>
						
						<li>
							<a href="cc.plugin.audio.AudioEffect.html">cc.plugin.audio.AudioEffect</a>
						</li>
						
						<li>
							<a href="cc.plugin.audio.AudioManager.html">cc.plugin.audio.AudioManager</a>
						</li>
						
						<li>
							<a href="cc.plugin.font.FontMetrics.html">cc.plugin.font.FontMetrics</a>
						</li>
						
						<li>
							<a href="cc.plugin.font.SpriteFont.html">cc.plugin.font.SpriteFont</a>
						</li>
						
						<li>
							<a href="cc.plugin.font.SpriteFontChar.html">cc.plugin.font.SpriteFontChar</a>
						</li>
						
						<li>
							<a href="cc.plugin.layout.BorderLayout.html">cc.plugin.layout.BorderLayout</a>
						</li>
						
						<li>
							<a href="cc.plugin.layout.Gap.html">cc.plugin.layout.Gap</a>
						</li>
						
						<li>
							<a href="cc.plugin.layout.GridLayout.html">cc.plugin.layout.GridLayout</a>
						</li>
						
						<li>
							<a href="cc.plugin.layout.Insets.html">cc.plugin.layout.Insets</a>
						</li>
						
						<li>
							<a href="cc.plugin.layout.LayerLayout.html">cc.plugin.layout.LayerLayout</a>
						</li>
						
						<li>
							<a href="cc.plugin.layout.Layout.html">cc.plugin.layout.Layout</a>
						</li>
						
						<li>
							<a href="cc.plugin.layout.Unit.html">cc.plugin.layout.Unit</a>
						</li>
						
						<li>
							<a href="cc.plugin.loader.Loader.html">cc.plugin.loader.Loader</a>
						</li>
						
						<li>
							<a href="cc.plugin.loader.ResourceLoaderAudioBuffer.html">cc.plugin.loader.ResourceLoaderAudioBuffer</a>
						</li>
						
						<li>
							<a href="cc.plugin.loader.ResourceLoaderImage.html">cc.plugin.loader.ResourceLoaderImage</a>
						</li>
						
						<li>
							<a href="cc.plugin.loader.ResourceLoaderJSON.html">cc.plugin.loader.ResourceLoaderJSON</a>
						</li>
						
						<li>
							<a href="cc.plugin.loader.ResourceLoaderXML.html">cc.plugin.loader.ResourceLoaderXML</a>
						</li>
						
						<li>
							<a href="cc.plugin.texture.TexturePacker.html">cc.plugin.texture.TexturePacker</a>
						</li>
						
						<li>
							<a href="cc.plugin.texture.TexturePackerNode.html">cc.plugin.texture.TexturePackerNode</a>
						</li>
						
						<li>
							<a href="cc.plugin.texture.TexturePackerPage.html">cc.plugin.texture.TexturePackerPage</a>
						</li>
						
						<li>
							<a href="cc.render.CanvasRenderer.html">cc.render.CanvasRenderer</a>
						</li>
						
						<li>
							<a href="cc.render.DecoratedWebGLRenderingContext.html">cc.render.DecoratedWebGLRenderingContext</a>
						</li>
						
						<li>
							<a href="cc.render.GeometryBatcher.html">cc.render.GeometryBatcher</a>
						</li>
						
						<li>
							<a href="cc.render.Pattern.html">cc.render.Pattern</a>
						</li>
						
						<li>
							<a href="cc.render.Renderer.html">cc.render.Renderer</a>
						</li>
						
						<li>
							<a href="cc.render.RenderingContextSnapshot.html">cc.render.RenderingContextSnapshot</a>
						</li>
						
						<li>
							<a href="cc.render.ScaleManager.html">cc.render.ScaleManager</a>
						</li>
						
						<li>
							<a href="cc.render.shader.AbstractShader.html">cc.render.shader.AbstractShader</a>
						</li>
						
						<li>
							<a href="cc.render.shader.Attribute.html">cc.render.shader.Attribute</a>
						</li>
						
						<li>
							<a href="cc.render.shader.MatrixUniform.html">cc.render.shader.MatrixUniform</a>
						</li>
						
						<li>
							<a href="cc.render.shader.SolidColorShader.html">cc.render.shader.SolidColorShader</a>
						</li>
						
						<li>
							<a href="cc.render.shader.TextureShader.html">cc.render.shader.TextureShader</a>
						</li>
						
						<li>
							<a href="cc.render.shader.TextureUniform.html">cc.render.shader.TextureUniform</a>
						</li>
						
						<li>
							<a href="cc.render.shader.Uniform.html">cc.render.shader.Uniform</a>
						</li>
						
						<li>
							<a href="cc.render.Texture2D.html">cc.render.Texture2D</a>
						</li>
						
						<li>
							<a href="cc.render.WebGLRenderer.html">cc.render.WebGLRenderer</a>
						</li>
						
						<li>
							<a href="cc.transition.Transition.html">cc.transition.Transition</a>
						</li>
						
						<li>
							<a href="cc.transition.TransitionFade.html">cc.transition.TransitionFade</a>
						</li>
						
						<li>
							<a href="cc.transition.TransitionMove.html">cc.transition.TransitionMove</a>
						</li>
						
						<li>
							<a href="cc.transition.TransitionSlideInB.html">cc.transition.TransitionSlideInB</a>
						</li>
						
						<li>
							<a href="cc.transition.TransitionSlideInL.html">cc.transition.TransitionSlideInL</a>
						</li>
						
						<li>
							<a href="cc.transition.TransitionSlideInR.html">cc.transition.TransitionSlideInR</a>
						</li>
						
						<li>
							<a href="cc.transition.TransitionSlideInT.html">cc.transition.TransitionSlideInT</a>
						</li>
						
						<li>
							<a href="cc.util.Resource.html">cc.util.Resource</a>
						</li>
						
						<li>
							<a href="cc.widget.Button.html">cc.widget.Button</a>
						</li>
						
						<li>
							<a href="cc.widget.Label.html">cc.widget.Label</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="global.html#__extends">__extends</a>
						</li>
						
						<li>
							<a href="global.html#test">test</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: plugin/asset/AssetManager.js</h1>
    
<section>
	<article>
		<pre
			class="sunlight-highlight-javascript linenums">/**
 * License: see license.txt file
 */
/// &lt;reference path="../../../lib/webaudio/webaudio.d.ts" />
/// &lt;reference path="../../math/Rectangle.ts"/>
/// &lt;reference path="../../node/sprite/SpriteFrame.ts"/>
/// &lt;reference path="../../node/sprite/Animation.ts"/>
/// &lt;reference path="../../render/Texture2D.ts"/>
/// &lt;reference path="../../render/Renderer.ts"/>
/// &lt;reference path="../../plugin/font/SpriteFont.ts"/>
/// &lt;reference path="../loader/Loader.ts"/>
/// &lt;reference path="../loader/Resource.ts"/>
var cc;
(function (cc) {
    var plugin;
    (function (plugin) {
        var asset;
        (function (asset) {
            var Loader = cc.plugin.loader.Loader;
            /**
             * Stores all image resources.
             * @type {Map&lt;string,cc.render.Texture2D>}
             * @private
             */
            var _textures = {};
            /**
             * Stores all SpriteFrame resources. Loaded Atlases will also add SpriteFrames based on their internal definitions.
             * @type {Map&lt;string,cc.node.sprite.SpriteFrame>}
             * @private
             */
            var _frames = {};
            /**
             * Stores Animation objects
             * @type {Map&lt;string,cc.node.sprite.Animation>}
             * @private
             */
            var _animations = {};
            /**
             * Stores SpriteFont objects
             * @type {Map&lt;string,cc.plugin.font.SpriteFont>}
             * @private
             */
            var _spriteFonts = {};
            var _audioBuffers = {};
            /**
             * @class cc.plugin.asset.AssetManager
             * @classdesc
             *
             * A AssetManager manager keeps references of in-game resources. The difference with a plain resource is that a
             * resource manages load-and-set operations, but an asset han have some postprocessing, like creating an atlas
             * from an image, etc.
             * This object is the only globally available object and thus, can be shared across different Director objects.
             * The idea is to have a centralized resource mechanism where sounds, sprites, atlases, fonts, etc. can be directly
             * accessed. The resource manager will just store, contents, not handle or load it in anyway.
             * &lt;p>
             *     The AssetManager can be the listener or any Loader objects, thus receiving the independent resources,
             *     and then grouping them in different stores.
             * &lt;p>
             *     The method load, creates a Loader object and registers itself as observer of the loading events.
             */
            var AssetManager = (function () {
                function AssetManager() {
                }
                AssetManager.mergeResources = function (res) {
                    for (var i in res) {
                        cc.plugin.asset.AssetManager._resources[i] = res[i];
                    }
                };
                /**
                 * Load a resource set.
                 * Internally, it builds a &lt;code>cc.plugin.loader.Loader&lt;/code> object and starts the loading process.
                 * @method cc.plugin.loader.AssetManager.load
                 * @param data {cc.plugin.loader.LoaderInitializer} resources descriptor.
                 * @param onEnd {cc.plugin.loader.LoaderFinishedCallback} callback invoked when all resources end loading.
                 *          either the resources loaded ok or wrong, this method will be called.
                 * @param onProgress {cc.plugin.loader.LoaderProgressCallback=} callback invoked for each loaded resource
                 *          regardless of its loading result.
                 * @param onError {cc.plugin.loader.LoaderErrorCallback=} callback invoked for each resource loaded with error.
                 */
                AssetManager.load = function (data, onEnd, onProgress, onError) {
                    new Loader(data).startLoading(function end(resources) {
                        if (onEnd) {
                            onEnd(resources);
                        }
                    }, function progress(resource, index, total, errored) {
                        //AssetManager.addResource( resource );
                        if (onProgress) {
                            onProgress(resource, index, total, errored);
                        }
                    }, function error(resource) {
                        if (onError) {
                            onError(resource);
                        }
                    });
                };
                /**
                 * Setup textures for a given renderer. Concretelly, if the renderer is webgl, textures are turned into webgl
                 * textures.
                 * @method cc.plugin.asset.AssetManager.prepareTextures
                 * @param renderer {cc.render.Renderer}
                 */
                AssetManager.prepareTextures = function (renderer) {
                    for (var texture in _textures) {
                        if (_textures.hasOwnProperty(texture)) {
                            renderer.prepareTexture(_textures[texture]);
                        }
                    }
                };
                /**
                 * Add an Image to the Manager resources.
                 * The image will be stored as a cc.render.Texture2D object.
                 * A SpriteFrame with the given id and representing the whole image will be added too.
                 * @method cc.plugin.asset.AssetManager.addImage
                 * @param img {HTMLImageElement|HTMLCanvasElement}
                 * @param id {string} The texture and the SpriteFrame representing the texture will have this id.
                 */
                AssetManager.addImage = function (img, id) {
                    var texture = new cc.render.Texture2D(img, id);
                    _textures[id] = texture;
                    _frames[id] = new cc.node.sprite.SpriteFrame(texture);
                    return texture;
                };
                /**
                 * Add a cc.plugin.loader.Resource instance.
                 * Currently only works for images.
                 * @method cc.plugin.asset.AssetManager.addResource
                 * @param resource {cc.plugin.loader.Resource}
                 */
                AssetManager.addResource = function (resource) {
                    if (resource.isValid()) {
                        switch (resource.type) {
                            case "image":
                                AssetManager.addImage(resource.value, resource.id);
                                break;
                        }
                    }
                };
                /**
                 * Add a SpriteFrame to the cache.
                 * @method cc.plugin.asset.AssetManager.addSpriteFrame
                 * @param frame {cc.node.sprite.SpriteFrame}
                 */
                AssetManager.addSpriteFrame = function (frame) {
                    _frames[frame._name] = frame;
                };
                /**
                 * Get an SpriteFrame by id.
                 * @method cc.plugin.asset.AssetManager.getSpriteFrame
                 * @param id {string}
                 * @returns {cc.node.sprite.SpriteFrame}
                 */
                AssetManager.getSpriteFrame = function (id) {
                    var ret = _frames[id];
                    return ret ? ret : null;
                };
                /**
                 * Add an array of SpriteFrames to the cache.
                 * @method cc.plugin.asset.AssetManager.addSpriteFrames
                 * @param frames {Array&lt;cc.node.sprite.SpriteFrame>}
                 */
                AssetManager.addSpriteFrames = function (frames) {
                    for (var i = 0; i &lt; frames.length; i++) {
                        this.addSpriteFrame(frames[i]);
                    }
                };
                /**
                 * Get an array of sprite frames identified by an array of SpriteFrame ids.
                 * @method cc.plugin.asset.AssetManager.getSpriteFrames
                 * @param ids {Array&lt;string>}
                 * @returns {Array&lt;cc.node.sprite.SpriteFrame>}
                 */
                AssetManager.getSpriteFrames = function (ids) {
                    var ret = [];
                    for (var i = 0; i &lt; ids.length; i++) {
                        var sf = AssetManager.getSpriteFrame(ids[i]);
                        if (sf) {
                            ret.push(sf);
                        }
                        else {
                            cc.Debug.warn(cc.locale.ASSETMANAGER_WARN_SPRITEFRAME_NOT_FOUND, "getSpriteFrames", ids[i]);
                        }
                    }
                    return ret;
                };
                /**
                 * Add a Texture2D to the cache.
                 * @method cc.plugin.asset.AssetManager.addTexture
                 * @param texture {cc.render.Texture2D}
                 */
                AssetManager.addTexture = function (texture) {
                    _textures[texture._name] = texture;
                };
                /**
                 * Get a Texture2D object by string id.
                 * @param name {string}
                 * @returns {cc.render.Texture2D}
                 */
                AssetManager.getTexture = function (name) {
                    var ret = _textures[name];
                    return ret ? ret : null;
                };
                AssetManager.addAnimation = function (animation, name) {
                    _animations[name] = animation;
                };
                /**
                 * Create and store an animation build of the frames identified by the frames array.
                 * If there's a prefix set, the frames is assumed to be an array of number, to build the SpriteFrame names:
                 *  prefix+frames[0], prefix+frames[1], ..., etc.
                 * If no prefix, the frames array is assumed to be the sting identifiers of the frames composing the animation.
                 * @param animationName {string}
                 * @param frames {Array&lt;number|string>}
                 * @param prefix {string=}
                 */
                AssetManager.addAnimationForFrames = function (animationId, frames, prefix) {
                    var animation = new cc.node.sprite.Animation();
                    for (var i = 0; i &lt; frames.length; i++) {
                        var frameName = prefix ? prefix + frames[i] : frames[i];
                        var spriteFrame = _frames[frameName];
                        if (spriteFrame) {
                            animation.addFrame(spriteFrame);
                        }
                    }
                    _animations[animationId] = animation;
                    return animation;
                };
                /**
                 * Get an animation by id.
                 * @param animationId {string}
                 * @returns {cc.node.sprite.Animation}
                 */
                AssetManager.getAnimationById = function (animationId) {
                    var anim = _animations[animationId];
                    if (anim) {
                        return anim.clone();
                    }
                    return null;
                };
                /**
                 * Create SpriteFrames for all the elements in the JSON object.
                 * The new SpriteFrame objects will be mapped inside the SpriteFrame identified by the spriteFrameId parameter.
                 * @method cc.plugin.asset.AssetManager.addSpriteFramesFromFrameWithJSON
                 * @param spriteFrameId {string} a SpriteFrame in the cache.
                 * @param json {any}
                 * @param prefix {string=} an optional prefix to prepend to all sprite frame names.
                 */
                AssetManager.addSpriteFramesFromFrameWithJSON = function (spriteFrameId, json, prefix) {
                    var spriteFrame = AssetManager.getSpriteFrame(spriteFrameId);
                    if (spriteFrame) {
                        var frames = spriteFrame.createSpriteFramesFromJSON(json);
                        if (prefix) {
                            for (var i = 0; i &lt; frames.length; i++) {
                                frames[i]._name = prefix + frames[i]._name;
                            }
                        }
                        AssetManager.addSpriteFrames(frames);
                    }
                };
                /**
                 * Create a grid of sub SpriteFrames from a given SpriteFrame.
                 * @method cc.plugin.asset.AssetManager.addGridSpriteFramesFromFrame
                 * @param spriteFrameId {string} a SpriteFrame id from the cache
                 * @param rows {number} number or rows of the grid
                 * @param cols {number} number or columns of the grid
                 */
                AssetManager.addGridSpriteFramesFromFrame = function (spriteFrameId, rows, cols) {
                    var spriteFrame = AssetManager.getSpriteFrame(spriteFrameId);
                    if (spriteFrame) {
                        var frames = spriteFrame.createSubSpriteFrames(rows, cols);
                        AssetManager.addSpriteFrames(frames);
                    }
                };
                /**
                 * Create a SpriteFont from the definition of a Glypth Designer file.
                 * The font will be stored in the fonts cache.
                 * @methoc cc.plugin.asset.AssetManager.createSpriteFontFromGlypthDesigner
                 * @param fontName {string} name for storing the font.
                 * @param spriteFrameId {string} a SpriteFrame from the cache. The glypths will be mapped in this SpriteFrame.
                 * @param glypthDesignerInfo {string} the contents of a Glypth Designer file.
                 */
                AssetManager.createSpriteFontFromGlypthDesigner = function (fontName, spriteFrameId, glypthDesignerInfo) {
                    var font = new cc.plugin.font.SpriteFont(fontName).setAsGlypthDesigner(spriteFrameId, glypthDesignerInfo);
                    if (font.isValid()) {
                        _spriteFonts[fontName] = font;
                    }
                };
                /**
                 * Get a SpriteFont from the cache.
                 * @methoc cc.plugin.asset.AssetManager.getSpriteFont
                 * @param fontName {string} the id of a SpriteFont in the cache.
                 * @returns {cc.plugin.font.SpriteFont}
                 */
                AssetManager.getSpriteFont = function (fontName) {
                    var ret = _spriteFonts[fontName];
                    return ret ? ret : null;
                };
                /**
                 * Create a SpriteFont for a System Font.
                 * @param fontName {string} the name to store the font in the cache.
                 * @param systemFont {cc.plugin.font.SystemFontInitializer} font definition object.
                 */
                AssetManager.createSystemSpriteFont = function (fontName, systemFont) {
                    var font = new cc.plugin.font.SpriteFont(fontName).setAsSystemFont(systemFont);
                    if (font.isValid()) {
                        _spriteFonts[fontName] = font;
                    }
                };
                AssetManager.addSpriteFramesFromFrameWithPLIST = function (spriteFrameId, plist) {
                    var spriteFrame = AssetManager.getSpriteFrame(spriteFrameId);
                    if (spriteFrame) {
                        var frames = spriteFrame.createSpriteFramesFromPLIST(plist);
                        AssetManager.addSpriteFrames(frames);
                    }
                };
                AssetManager.getAudioBuffer = function (id) {
                    var ret = _audioBuffers[id];
                    return ret ? ret : null;
                };
                AssetManager.addAudioBuffer = function (buffer, id) {
                    _audioBuffers[id] = buffer;
                };
                /**
                 * For backwards compatibility
                 * Map of string,Resource
                 */
                AssetManager._resources = {};
                return AssetManager;
            })();
            asset.AssetManager = AssetManager;
        })(asset = plugin.asset || (plugin.asset = {}));
    })(plugin = cc.plugin || (cc.plugin = {}));
})(cc || (cc = {}));
</pre>
	</article>
</section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					@hyperandroid
					<br />
					
					
		<span class="copyright">
		Chukong inc. 2014
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a>
		on 23/Tu/2015 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>
